Learning to impl complex systems like VirtualMachine in C